---
title: "Dression Cook out"
author: "Bonsoul"
date: "`r Sys.Date()`"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
df1 <- read_csv("D:/Downloads/depressed_PHQ_dataset.edit.csv")
```

```{r}
library(dplyr)
library(purrr)

df1 %>%
  select(starts_with("PHQ")) %>%
  map(~ unique(.x))


```

```{r}
# Load libraries
library(dplyr)
library(gtsummary)

# Example: Recode PHQ responses to ordered factors
# Define common PHQ response levels
phq_levels <- c("Not at all", "Several days", "More than half the days", "Nearly every day")

# Recode all PHQ columns
phq_data_recoded <- df1 %>%
  mutate(across(starts_with("PHQ"), 
                ~ factor(.x, levels = phq_levels, ordered = TRUE)))

# Descriptive analysis using gtsummary
descriptive_table <- phq_data_recoded %>%
  tbl_summary(
    type = all_categorical() ~ "categorical",
    statistic = all_categorical() ~ "{n} ({p}%)"
  )

# Print the table
descriptive_table

```



```{r}
colnames(df1)
```

