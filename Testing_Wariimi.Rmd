---
title: "Test1"
author: "Bonsoul"
date: "`r Sys.Date()`"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



```{r}
data_wr <- df
```


```{r}
depression_vars

```


```{r}
library(dplyr)

data_wr %>%
  count(does_it_seem_that_you_ve_lost_interest_or_pleasure_in_things_that_you_used_to_really_enjoy) %>%
  mutate(percent = n / sum(n) * 100)

```

```{r}

data_wr %>%
  count(how_often_have_you_been_bothered_by_these_symptoms_trouble_concentrating_on_school_work_reading_or_watching_tv) %>%
  mutate(percent = n / sum(n) * 100)

```


```{r}
levels(data_wr$where_do_you_live)
```

```{r}
library(kableExtra)
library(knitr)
library(dplyr)

```


```{r}
# Function to compute count + percent for one variable
freq_table <- function(data, var) {
  data %>%
    count(!!sym(var)) %>%
    mutate(
      percent = round(n / sum(n) * 100, 1),
      variable = var
    ) %>%
    rename(response = !!sym(var)) %>%
    select(variable, response, n, percent)
}

# Apply function to all variables
full_table <- bind_rows(
  lapply(depression_vars, function(v) freq_table(data_wr, v))
)
```

```{r}

# Display as knitr table
kable(full_table,
      caption = "Distribution of Depression Symptom Responses",
      col.names = c("Variable", "Response", "Count", "Percent"))
```


```{r}
# 2. Apply function to all variables
full_table <- bind_rows(
  lapply(depression_vars, function(v) freq_table(data_wr, v))
)

# 3. Create a knitr table with your styling
full_table %>%
  kable(
    caption = "Distribution of Depression Symptom Responses",
    col.names = c("Variable", "Response", "Count", "Percent")
  ) %>%
  kable_styling(bootstrap_options = "bordered") %>%
  column_spec(3:4, bold = TRUE) %>%     # bold Count and Percent columns
  row_spec(4:6, italic = TRUE,          # example styling (adjust as needed)
           color = "gold",
           background = "blue")

```

